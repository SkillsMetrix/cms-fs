package com.service;

import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Comparator;
import java.util.List;
import java.util.stream.Collectors;

import com.model.Flight;

public class BookingService {
	private List<Flight> flights;
	
	public BookingService() {
		 flights.add(new Flight("AI101", "Delhi", "Mumbai", LocalDateTime.now().plusHours(5), BigDecimal.valueOf(5500)));
		 flights.add(new Flight("AI202", "Delhi", "Bangalore", LocalDateTime.now().plusHours(3), BigDecimal.valueOf(6500)));
		 flights.add(new Flight("AI404", "Mumbai", "Chennai", LocalDateTime.now().plusHours(1), BigDecimal.valueOf(6000)));
		 flights.add(new Flight("AI303", "Delhi", "Chennai", LocalDateTime.now().plusHours(6), BigDecimal.valueOf(4800)));
		 
		}
	public List<Flight> searchFlight(String origin,String destination){
		return flights.stream()
				.filter(f -> f.getOrigin().equalsIgnoreCase(origin))
				.filter(f -> f.getDestination().equalsIgnoreCase(destination))
				.sorted(Comparator.comparing(Flight::getDepartureTime))
				.collect(Collectors.toList());
	}

}
